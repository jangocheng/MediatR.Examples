<div class="row">
    <div class="col-md-12">
        <h2 class="page-header" translate="ACTIVITY.VIEW.VIEW_ACTIVITY"></h2>
        <div id="activity-view-well" class="well">
            <button type="button" class="btn btn-default pull-right" ng-click="avvm.goToEdit()"><i class="fa fa-pencil"></i> <span translate="COMMON.EDIT"></span></button>
            <div>
                <span id="createdDate">{{avvm.activity.createdDate | date : 'dd-MM-yyyy'}}</span>
            </div>
            <div>
                <span id="activityType">{{avvm.activity.activityTypeId | dynamicTranslate}}</span>,
                <span id="activityStatus">{{avvm.activity.activityStatusId | dynamicTranslate}}</span>
            </div>
        </div>

        <uib-tabset>
            <uib-tab index="0" heading="{{'ACTIVITY.VIEW.OVERVIEW' | translate}}" select="avvm.setActiveTabIndex(0)">
                <div class="row">
                    <div class="col-md-3">
                        <section>
                            <h3 class="page-header" translate="ACTIVITY.VIEW.SUMMARY"></h3>
                        </section>
                        <section id="activity-view-property">
                            <property-view-control property="avvm.activity.property" is-panel-visible="avvm.isPropertyPreviewPanelVisible" hide-header="true" config="avvm.config.property"></property-view-control>
                        </section>
                        <hr />
                        <section id="activity-view-vendors-summary">
                            <activity-vendors-view-control contacts="avvm.activity.contacts" config="avvm.config.vendors"></activity-vendors-view-control>
                        </section>
                        <section id="activity-view-landlords-summary">
                            <activity-landlords-view-control contacts="avvm.activity.contacts" config="avvm.config.landlords"></activity-landlords-view-control>
                        </section>
                        <section>
                            <activity-negotiators-view-control config="avvm.config.negotiators"
                                                               property-division-id="{{avvm.activity.property.divisionId}}"
                                                               lead-negotiator="avvm.activity.leadNegotiator"
                                                               can-be-edited="avvm.isOverviewTabSelected()"
                                                               secondary-negotiators="avvm.activity.secondaryNegotiator"
                                                               hide-secondary-negotiators="true">
                            </activity-negotiators-view-control>
                        </section>
                    </div>
                    <div class="col-md-3">
                        <viewing-view-control is-panel-visible="avvm.isViewingPreviewPanelVisible" viewings="avvm.activity.viewingsByDay" config="avvm.config.viewings"></viewing-view-control>
                        <section>
                            <activity-appraisal-meeting-view-control config="avvm.config.appraisalMeeting"
                                                                     appraisal-meeting="avvm.activity.appraisalMeeting"
                                                                     attendees="avvm.activity.attendees"></activity-appraisal-meeting-view-control>
                        </section>

                        <attachments-manager title="{{'ACTIVITY.VIEW.RECENT_FILES' | translate}}" data="avvm.attachmentManagerData" on-save-attachment-for-entity="avvm.saveAttachment(attachment)"></attachments-manager>


                    </div>
                    <div class="col-md-6">
                        <section>
                            <offer-view-control is-panel-visible="avvm.isOfferPreviewPanelVisible"
                                                config="avvm.config.offers"
                                                offers="avvm.activity.offers">
                            </offer-view-control>
                        </section>
                    </div>
                </div>
            </uib-tab>


            <uib-tab index="1" heading="{{'ACTIVITY.VIEW.DETAILS' | translate}}" select="avvm.setActiveTabIndex(1)">
                <div class="row">
                    <div class="col-md-3">
                        <section>
                            <h3 class="page-header" translate="ACTIVITY.VIEW.LANDLORDS" ng-if="avvm.config.landlords"></h3>
                        </section>
                        <section id="activity-view-landlords-details">
                            <activity-landlords-view-control contacts="avvm.activity.contacts" config="avvm.config.landlords" hide-header="true"></activity-landlords-view-control>
                        </section>
                        <section>
                            <h3 class="page-header" translate="ACTIVITY.VIEW.VENDORS" ng-if="avvm.config.vendors"></h3>
                        </section>
                        <section id="activity-view-vendors-details">
                            <activity-vendors-view-control contacts="avvm.activity.contacts" config="avvm.config.vendors" hide-header="true"></activity-vendors-view-control>
                        </section>
                        <section>
                            <h3 class="page-header" translate="ACTIVITY.VIEW.NEGOTIATORS_DEPARTMENTS"></h3>
                        </section>
                        <section>
                            <activity-negotiators-view-control config="avvm.config.negotiators"
                                                               property-division-id="{{avvm.activity.property.divisionId}}"
                                                               lead-negotiator="avvm.activity.leadNegotiator"
                                                               can-be-edited="avvm.isDetailsTabSelected()"
                                                               secondary-negotiators="avvm.activity.secondaryNegotiator">
                            </activity-negotiators-view-control>
                        </section>
                        <section id='departments-section'>
                            <activity-departments-view-control config="avvm.config.departments" activity-departments="avvm.activity.activityDepartments">
                            </activity-departments-view-control>
                        </section>
                    </div>
                    <div class="col-md-3">
                        <section>
                            <h3 class="page-header" translate="ACTIVITY.VIEW.BASIC_INFORMATION"></h3>
                        </section>
                        <section id="activity-view-property">
                            <property-view-control property="avvm.activity.property" is-panel-visible="avvm.isPropertyPreviewPanelVisible" config="avvm.config.property"></property-view-control>
                        </section>

                        <enum-item-view-control config="avvm.config.source"
                                                ng-model="avvm.activity.sourceId"
                                                schema="avvm.activitySourceSchema"></enum-item-view-control>
                        <textarea-view-control config="avvm.config.sourceDescription"
                                               ng-model="avvm.activity.sourceDescription"
                                               schema="avvm.activitySourceDescriptionSchema"></textarea-view-control>
                        <enum-item-view-control config="avvm.config.sellingReason"
                                                ng-model="avvm.activity.sellingReasonId"
                                                schema="avvm.activitySellingReasonSchema"></enum-item-view-control>
                        <textarea-view-control config="avvm.config.pitchingThreats"
                                               ng-model="avvm.activity.pitchingThreats"
                                               schema="avvm.activityPitchingThreatsSchema"></textarea-view-control>

                        <section>
                            <h3 class="page-header" translate="ACTIVITY.COMMON.ADDITIONAL_INFORMATION"></h3>
                        </section>
                        <text-view-control config="avvm.config.keyNumber"
                                               ng-model="avvm.activity.accessDetails.keyNumber"
                                               schema="avvm.activityKeyNumberSchema"></text-view-control>
                        <textarea-view-control config="avvm.config.accessArrangements"
                                               ng-model="avvm.activity.accessDetails.accessArrangements"
                                               schema="avvm.activityAccessArrangementsSchema"></textarea-view-control>
 

                    </div>
                </div>
            </uib-tab>
        </uib-tabset>
    </div>
</div>